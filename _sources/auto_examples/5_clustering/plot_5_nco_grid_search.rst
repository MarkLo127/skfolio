
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/5_clustering/plot_5_nco_grid_search.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_5_clustering_plot_5_nco_grid_search.py>`
        to download the full example code or to run this example in your browser via JupyterLite

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_5_clustering_plot_5_nco_grid_search.py:


=============================
NCO - Combinatorial Purged CV
=============================

The previous tutorial introduced the
:class:`~skfolio.optimization.NestedClustersOptimization` optimization.

In this tutorial we will perform hyperparameter search using `GridSearch` and
distribution analysis with `CombinatorialPurgedCV`.

.. GENERATED FROM PYTHON SOURCE LINES 14-18

Data
====
We load the S&P 500 :ref:`dataset <datasets>` composed of the daily prices of 20
assets from the S&P 500 Index composition starting from 2020-01-02 up to 2022-12-28:

.. GENERATED FROM PYTHON SOURCE LINES 18-43

.. code-block:: Python

    from plotly.io import show
    from sklearn.model_selection import GridSearchCV, train_test_split

    from skfolio import Population, RatioMeasure, RiskMeasure
    from skfolio.cluster import HierarchicalClustering, LinkageMethod
    from skfolio.datasets import load_sp500_dataset
    from skfolio.distance import KendallDistance, PearsonDistance
    from skfolio.model_selection import (
        CombinatorialPurgedCV,
        WalkForward,
        cross_val_predict,
    )
    from skfolio.optimization import (
        EqualWeighted,
        MeanRisk,
        NestedClustersOptimization,
        RiskBudgeting,
    )
    from skfolio.preprocessing import prices_to_returns

    prices = load_sp500_dataset()

    X = prices_to_returns(prices)
    X_train, X_test = train_test_split(X, test_size=0.33, shuffle=False)








.. GENERATED FROM PYTHON SOURCE LINES 44-47

Model
=====
We create two models: the NCO and the equal-weighted benchmark:

.. GENERATED FROM PYTHON SOURCE LINES 47-53

.. code-block:: Python

    benchmark = EqualWeighted()

    model_nco = NestedClustersOptimization(
        inner_estimator=MeanRisk(), clustering_estimator=HierarchicalClustering()
    )








.. GENERATED FROM PYTHON SOURCE LINES 54-60

Parameter Tuning
================
We find the model parameters that maximizes the out-of-sample Sharpe ratio using
`GridSearchCV` with `WalkForward` cross-validation on the training set.
The `WalkForward` are chosen to simulate a three months (60 business days) rolling
portfolio fitted on the previous year (255 business days):

.. GENERATED FROM PYTHON SOURCE LINES 60-83

.. code-block:: Python

    cv = WalkForward(train_size=255, test_size=60)

    grid_search_hrp = GridSearchCV(
        estimator=model_nco,
        cv=cv,
        n_jobs=-1,
        param_grid={
            "inner_estimator__risk_measure": [RiskMeasure.VARIANCE, RiskMeasure.CVAR],
            "outer_estimator": [
                EqualWeighted(),
                RiskBudgeting(risk_measure=RiskMeasure.CVAR),
            ],
            "clustering_estimator__linkage_method": [
                LinkageMethod.SINGLE,
                LinkageMethod.WARD,
            ],
            "distance_estimator": [PearsonDistance(), KendallDistance()],
        },
    )
    grid_search_hrp.fit(X_train)
    model_nco = grid_search_hrp.best_estimator_
    print(model_nco)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    /opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/sklearn/model_selection/_validation.py:425: FitFailedWarning:


    4 fits failed out of a total of 1408.
    The score on these train-test partitions for these parameters will be set to nan.
    If these failures are not expected, you can try to debug them by setting error_score='raise'.

    Below are more details about the failures:
    --------------------------------------------------------------------------------
    4 fits failed with the following error:
    Traceback (most recent call last):
      File "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/sklearn/model_selection/_validation.py", line 727, in _fit_and_score
        estimator.fit(X_train, **fit_params)
      File "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/skfolio/optimization/cluster/_nco.py", line 345, in fit
        fit_single_estimator(self.outer_estimator_, X=X_pred, y=y_pred)
      File "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/skfolio/utils/tools.py", line 457, in fit_single_estimator
        estimator.fit(X, y)
      File "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/skfolio/optimization/convex/_risk_budgeting.py", line 560, in fit
        self._solve_problem(
      File "/opt/hostedtoolcache/Python/3.10.13/x64/lib/python3.10/site-packages/skfolio/optimization/convex/_base.py", line 986, in _solve_problem
        raise cp.SolverError(msg) from None
    cvxpy.error.SolverError: Solver 'CLARABEL' failed for . Try another solver, or solve with solver_params=dict(verbose=True) for more information


    NestedClustersOptimization(clustering_estimator=HierarchicalClustering(linkage_method=SINGLE),
                               distance_estimator=PearsonDistance(),
                               inner_estimator=MeanRisk(),
                               outer_estimator=RiskBudgeting(risk_measure=CVaR))




.. GENERATED FROM PYTHON SOURCE LINES 84-87

Prediction
==========
We evaluate the two models using the same `WalkForward` object on the test set:

.. GENERATED FROM PYTHON SOURCE LINES 87-101

.. code-block:: Python

    pred_bench = cross_val_predict(
        benchmark,
        X_test,
        cv=cv,
        portfolio_params=dict(name="Benchmark"),
    )

    pred_nco = cross_val_predict(
        model_nco,
        X_test,
        cv=cv,
        n_jobs=-1,
        portfolio_params=dict(name="NCO"),
    )







.. GENERATED FROM PYTHON SOURCE LINES 102-104

Each predicted object is a `MultiPeriodPortfolio`.
For improved analysis, we can add them to a `Population`:

.. GENERATED FROM PYTHON SOURCE LINES 104-106

.. code-block:: Python

    population = Population([pred_bench, pred_nco])








.. GENERATED FROM PYTHON SOURCE LINES 107-108

Let's plot the rolling portfolios compositions:

.. GENERATED FROM PYTHON SOURCE LINES 108-110

.. code-block:: Python

    population.plot_composition(display_sub_ptf_name=False)






.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
            <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>                <div id="93a53e59-7c2c-433f-9801-00319ec8d342" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("93a53e59-7c2c-433f-9801-00319ec8d342")) {                    Plotly.newPlot(                        "93a53e59-7c2c-433f-9801-00319ec8d342",                        [{"alignmentgroup":"True","hovertemplate":"asset=AAPL\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"AAPL","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"AAPL","offsetgroup":"AAPL","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.09052211558639874,0.0189728966226455,0.14700633973861776,0.1533202740316195,0.14846557104835842,0.2558636298234466,0.2313118047879228,0.26583370166688775,0.15580081424858816,0.20378654079296438,0.018752709911369,0.13420652365433658,0.0,0.0,0.0,0.00884284138803538,0.01072228097049695,0.18513592236576643,0.027591589181958802,0.02463323274132064,0.03634038461727631,0.019207072065829296,0.011480875923268019,0.022282125670736206,0.026474826510646626,0.0012570656291639897,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.01262313849636995,0.012951973180957737,0.0,0.002167905425103943,0.00021225464359584233,0.0,0.0],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=AMD\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"AMD","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"AMD","offsetgroup":"AMD","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.04956420508109028,0.0,0.0753642680638892,0.10012387582213148,0.09042988320630459,0.09994315842037424,0.08991890461814146,0.09543714122394258,0.08651113408008289,0.11506631457143242,0.15964352841491083,0.10459932235634432,0.1564799630597695,0.09918995427954379,0.09164554336869131,0.09606105852159168,0.045806533714585665,0.07017087147905486,0.06770494711477618,0.0,0.0,0.05831489601043456,0.0863594439061149,0.11375147381703159,0.10743476745914261,0.12273480166591823,0.0,0.0,0.0,0.0,0.0,0.0,0.10478350080070044,0.1208981450823649,0.1587586077633861,0.0030847713415924393,0.010905036754362612,0.010560727824734419,0.00621112015070414,0.0,0.0],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=WMT\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"WMT","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"WMT","offsetgroup":"WMT","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.20066198219941833,0.17301537994447735,0.11069170380103095,0.10214808444920237,0.15456694768936874,0.11336716262966041,0.11220844471592917,0.09614015951157345,0.03973611939042356,0.05225360451861421,0.10111738427735963,0.01766316254475495,0.04819174322487352,0.20795520702479378,0.1622954752859149,0.2451311322814318,0.20115988763441156,0.23131019406638828,0.06987145147123201,0.15026219893880569,0.17575552612777526,0.26324873610911426,0.19276767026418123,0.22003954164280248,0.2457786634710198,0.21456347693987884,0.36269137509567717,0.32022208637868843,0.23466292228882546,0.10408415810180716,0.26635404427294246,0.31673769837514365,0.22347645772583946,0.2526980808843971,0.24212514910395125,0.15398759201218734,0.050612440358100697,0.05230068890025097,0.06537374946947519,0.04380511328521035,0.17503688289243777],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=UNH\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"UNH","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"UNH","offsetgroup":"UNH","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.1542679507234896,0.05824872818720567,0.023847279796892263,0.018160151958514507,0.013948120722781052,0.01701231436644408,0.010592938630927319,0.0,0.0,0.0,0.0,0.0,0.0,0.0008843622533174065,0.008128675103429147,0.017119801561569576,0.02100003716535152,0.050412219080660244,0.050281004811587426,0.1869888098315406,0.047143104299061246,0.0033118854316732003,0.009881961898058924,0.009683731415688866,0.005067797364168144,0.004464792419443042,0.008426784034655316,0.017619645260819775,0.1956244552480137,0.24677109744259906,0.0,0.0,0.10996708231958591,0.1370137151789444,0.0,0.14411426240565195,0.18380280836312926,0.01727077558899956,0.0,0.0,0.0],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=RRC\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"RRC","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"RRC","offsetgroup":"RRC","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.12987259617582284,0.0,0.0,0.0,0.0,0.009032068769734822,0.011727918391362299,0.21452173587856835,0.014681604207564414,0.019621738179799578,0.044868854409968566,0.12340165205290309,0.14349681088262298,0.08724163019033808,0.07878434177741953,0.10008015624761862,0.07400729948158838,0.0006391768872819407,0.16764107752278948,0.08575488543024434,0.003543258477198286,0.10496408330006556,0.13698686887564435,0.15064398434619533,0.17084997544039401,0.16689163435765503,0.0,0.0,0.08339848012998101,0.0024605573990056024,0.3156897520684434,0.3015190980966961,0.10464525184477315,0.11204786440097045,0.10348875972343838,0.07333412376770045,0.0,0.0,0.0,0.0,0.0],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=PG\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"PG","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"PG","offsetgroup":"PG","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.026379981397683352,0.020557010498635446,0.0,0.0,0.0,0.0,0.03685413669620697,0.04173550698826759,0.07578270054139237,0.10309261417661865,0.17700016846464597,0.04900839008169933,0.09549342705081561,0.03956898382048075,0.03363776086936168,0.05837272516582478,0.06716143955334976,0.045332168104510684,0.0500498266939966,0.04827010335553595,0.08213560196265861,0.0513339478241219,0.05704858150780167,0.04804498720035019,0.017796940963913842,0.02184119042672027,0.03901734141335394,0.04515639572923655,0.030317057644998018,0.04412327857845606,0.0,0.0,0.02274359419366781,0.042342606260204155,0.10459741565225995,0.07583235845071559,0.05639229716751281,0.05190652401641993,0.03329866115164859,0.025889438012207645,0.0],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=PFE\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"PFE","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"PFE","offsetgroup":"PFE","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.0236063738143893,0.00017109021718153872,0.0,0.0,3.262563919832453e-05,4.72327486528447e-05,0.0,0.0,0.012632247442424766,0.027749024891285026,0.13257970806848554,0.021642550526649908,0.05134804261912707,0.030077431942566235,0.01947917144788933,0.029773360633499054,0.031156626416937932,0.0,0.0,0.0,0.027569690117524963,0.004904602404595867,0.007235350439638715,0.01916436967164442,0.0,1.6918861808122125e-05,1.3100643106315898e-05,0.0,0.0032438439663561637,0.018987903268398023,0.05850606044955626,0.034262895123248004,0.028997390521689058,0.008780789770241534,0.04211287728349198,0.009853075730261278,0.010068091721575004,0.1682188001723138,0.1742943254419327,0.28259831050979234,0.16843519379883162],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=PEP\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"PEP","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"PEP","offsetgroup":"PEP","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.10911999874127745,0.2624153352317866,0.14236086158194772,0.10782053007062521,0.07720481476993299,0.06532519565560542,0.04291164540972729,0.045597568904829716,0.030542212381684187,0.03614121007067637,0.09899285550682238,0.0346620112287367,0.025435642196397806,0.0,0.013618999062508233,0.06883956637406127,0.0817166433761423,0.06482959672379014,0.043941466292189736,0.04532969875745878,0.022286234979512244,0.05811930610548154,0.03462605453652658,0.03301260459256617,0.038603532357704994,0.03370241919870082,0.028409967919606004,0.05225837970975187,0.029403585286917593,0.0478483096468343,0.0,0.0,0.0,0.0,0.0,0.025629983113848488,0.0,0.0,0.00763768730477523,0.04711633660871745,0.050472411048971176],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=MSFT\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"MSFT","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"MSFT","offsetgroup":"MSFT","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.0,0.0,0.1704779860065208,0.18313820670455078,0.1984991319846184,0.17359722696380095,0.15370157096951073,0.005254922194422844,0.12322306627812245,0.16686924482885568,0.0,0.1202283015974334,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.026790408015769703,0.04832614988986298,0.00461809738948995,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0897430972883629,0.0,0.01679825762328912,0.031009877940643298,0.03265255070814134,0.007593787640632193],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=MRK\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"MRK","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"MRK","offsetgroup":"MRK","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.0,0.0012792536879835616,0.005158545335969436,0.042377117339188496,0.05583360104991869,0.039982168660677574,0.05893717418951739,0.03832406507343535,0.016908539659677205,0.016695114426174825,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.007969677979440834,0.01224069393812385,0.024791212204311505,0.013847049115724538,0.019099088182255503,0.01954928533016984,0.02872316134721735,0.015509131929157219,0.01730295105489974,0.010248527045779266,0.03331518189739048,0.14655056861754107,0.12444836358688875,0.16210977876501725,0.05526110747393895,0.048430229239112645,0.020979614922254412,0.04253531087053108,0.15809357962951118,0.15886075414729398,0.3410547396666746,0.2216140401222539],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=LLY\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"LLY","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"LLY","offsetgroup":"LLY","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.0,0.0,0.0,0.0,0.0009084327398135344,0.011051775355991904,0.022654451552103133,0.022364145555043475,0.16843935082027553,0.018722103156564345,0.047547436455848,0.18994280851859652,0.0,0.16130126189579697,0.15009208222074652,0.0,0.006703038148164081,0.0010223230029166488,0.015225778575314767,0.004179134738617954,0.017531192140124024,0.02364382062494976,0.011428214103144142,0.0024010821227337434,0.00719818333170202,0.0005737611280072099,0.032700096911314244,0.03404987870204275,0.013688811940386222,0.0423684205201465,0.0,0.0,0.15409618074692272,0.1978225620803063,0.2240371286290963,0.1990040742265926,0.19859755242577365,0.17700125766016797,0.15303709296588522,0.0,0.0],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=KO\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"KO","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"KO","offsetgroup":"KO","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,2.2856854063768325e-05,0.0,0.0,0.0,0.0,0.007878196628528383,0.030847842550594938,0.04075209715006865,0.023032513632957666,0.06530882967756647,0.1492403534886727,0.06842451344777414,0.2202532265419192,0.18510666154626745,0.10193264344825957,0.06987025981811835,0.05565718842369826,0.008413934922895445,0.05231325635451766,0.07200082112851454,0.1462099711088607,0.05961144385027812,0.07235562949619699,0.1029349244664185,0.11135852070263491,0.16068697146919714,0.07650653280408697,0.08311817445198766,0.04899229172798676,0.055272487551550877,0.10968931348244945,0.10802564267980404,0.030229892144357617,0.025395088185507307,0.011053258272252836,0.0,0.043184361764811344,0.05253160219281023,0.07558773586627208,0.005484258436494488,0.029083055642343897],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=JPM\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"JPM","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"JPM","offsetgroup":"JPM","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.016920877964961334,0.018593347587465982,0.014153844768330754,0.024439430825329046,0.018087514943504513,0.01534956836024583,0.026739521756095883,0.03998923751769193,0.04923425544203031,0.025191467991047736,0.028035290754261574,0.0,0.0,0.0,0.0,0.0,0.012255864737944632,0.11450250604207975,0.14054732721812827,0.09313027326323718,0.017883454024234732,0.016916724790353128],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=JNJ\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"JNJ","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"JNJ","offsetgroup":"JNJ","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.12866314604480072,0.3452705054194819,0.15006022172763264,0.086404162775883,0.013544009209189594,0.0,0.0,0.0,0.0,0.0,0.0,0.018702349240722616,0.07524735284044021,0.05053232766303807,0.06457216521001655,0.10303871616094362,0.20297968154879037,0.12537341854240222,0.10943170856308186,0.06688566036400274,0.07637682725670258,0.0,0.0,0.0,0.0,0.0,0.008910230611662608,0.0058805439753971105,0.03513265032398875,0.27161721569081265,0.07226233883126883,0.10295752255672717,0.05751191068386229,0.04773985333021814,0.021919806151679072,0.03349265024523697,0.0244239605666267,0.05825984237319338,0.09106865842806583,0.1355505066239879,0.1207085615873994],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=HD\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"HD","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"HD","offsetgroup":"HD","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,2.2676045912515988e-05,0.0,0.0072317631246523045,0.006422211175135265,0.021965055815738085,0.03502586419255247,0.04975153193908765,0.03673279127922565,0.1712925634200018,0.0,0.0,0.0,0.0,0.0050098198505022255,0.1645519601621897,0.020546993707110748,0.028525841306848116,0.045466240953797026,0.07243683337347469,0.11089913358699163,0.190373660920577,0.0,0.0,0.0,0.0,0.0,0.027645767581104454,0.030438203335992627,0.02248456248786021,0.038132532843511154,0.0,0.0,0.0,0.0,0.026553541290644196,0.1332532509261863,0.1935138498102012,0.019866309300831872,0.010281682263419734,0.009347611504172265,0.013354506518388556],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=GE\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"GE","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"GE","offsetgroup":"GE","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.0,0.0,0.003235822779033129,0.010589130943143163,0.019546286182798227,0.0035056449290488717,0.0,0.0,0.0033405901099281695,0.05835932472937245,0.05257216580188741,0.008163738966354075,0.0,0.0,0.0,0.0,0.02472807390461215,0.01634233521251053,0.0,0.02745459998029024,0.013597132357074798,0.14758674473741304,0.16479733525606668,0.1889744615595365,0.1753872488419104,0.15706312761936592,0.14056167894799268,0.14283396055953004,0.13267709603308256,0.0,0.0,0.0,0.0,0.0,0.0,0.0013933405219909438,0.022373732804827705,0.005578427402895264,0.012669712257251753,0.0,0.013889642120294086],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=CVX\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"CVX","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"CVX","offsetgroup":"CVX","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.0,0.0,0.005551527298792017,0.009468880727608172,0.05655384340715696,0.051101639812877214,0.03353148826714659,0.022733559763912305,0.007855688082727678,0.0,0.0012764929789412897,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.015211937368350121,0.015982824738603213,0.03474727908576787,0.0,0.002420753659920153,0.01468247453687432,0.018359177423186934,0.018516984566435298,0.020286152485664087,0.019101510720699474,0.021437824986745537,0.062248161221954465,0.0,0.0,0.0,0.0,0.0,0.0,0.038157412192210534,0.06788188334582973,0.08133742428161789,0.03570880729209977,0.1691872794093402],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=BBY\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"BBY","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"BBY","offsetgroup":"BBY","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.08729109085122541,0.12005019383345411,0.10559558200919482,0.11339551310963568,0.08319958249755793,0.08180286477856429,0.07985214559058082,0.061522532752092844,0.05715532844204637,0.10700441782372891,0.0,0.09919392437162129,0.18405081372485077,0.13312345306416468,0.11125895896593506,0.18230781899417825,0.11699027136571742,0.1250864328950945,0.22470526838599728,0.09025681536210917,0.0,0.12700600571736204,0.14525424326657962,0.0016795404355552921,0.006661289150648552,0.01655107266776952,0.185316578526261,0.15811602525752005,0.11349467259957782,0.0,0.0,0.0,0.0,0.0,0.0,0.010272273872743579,0.010930209494337293,0.00101581780152406,0.005985246240347883,0.0,0.0],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=BAC\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"BAC","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"BAC","offsetgroup":"BAC","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0033777092808007438,0.01037870366722464,0.0070362778858641326,0.016403848018485108,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.00928320944037976,0.0088169772155422,0.006502606837292536,0.003831707552247094,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"asset=XOM\u003cbr\u003eindex=%{x}\u003cbr\u003evalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"XOM","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"XOM","offsetgroup":"XOM","orientation":"v","showlegend":true,"textposition":"auto","x":["Benchmark","Benchmark_1","Benchmark_2","Benchmark_3","Benchmark_4","Benchmark_5","Benchmark_6","Benchmark_7","Benchmark_8","Benchmark_9","Benchmark_10","Benchmark_11","Benchmark_12","Benchmark_13","Benchmark_14","Benchmark_15","Benchmark_16","Benchmark_17","Benchmark_18","Benchmark_19","Benchmark_20","Benchmark_21","Benchmark_22","Benchmark_23","Benchmark_24","Benchmark_25","Benchmark_26","Benchmark_27","Benchmark_28","Benchmark_29","Benchmark_30","Benchmark_31","Benchmark_32","Benchmark_33","Benchmark_34","Benchmark_35","Benchmark_36","Benchmark_37","Benchmark_38","Benchmark_39","Benchmark_40","NCO","NCO_1","NCO_2","NCO_3","NCO_4","NCO_5","NCO_6","NCO_7","NCO_8","NCO_9","NCO_10","NCO_11","NCO_12","NCO_13","NCO_14","NCO_15","NCO_16","NCO_17","NCO_18","NCO_19","NCO_20","NCO_21","NCO_22","NCO_23","NCO_24","NCO_25","NCO_26","NCO_27","NCO_28","NCO_29","NCO_30","NCO_31","NCO_32","NCO_33","NCO_34","NCO_35","NCO_36","NCO_37","NCO_38","NCO_39","NCO_40"],"xaxis":"x","y":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.0,0.0,0.05341541091284066,0.06662907569941927,0.0653004186882488,0.035460630112079505,0.03519665804991581,0.009671485724804625,0.0026855727123264355,0.0022923477865578086,0.0,0.010159033444738598,0.0,0.0,0.0,1.5110857440101752e-05,0.031681022054779975,0.03046009960874356,0.033588472596363515,0.019419762831614854,0.047229396156377786,0.03518336012266887,0.029069849219569083,0.026234494071087515,0.02531176681183293,0.019168248516660907,0.010183969600815449,0.024658979784576245,0.0,0.004732334942841958,0.030947487949918296,0.012048434926831686,0.0014389238922013316,0.0,0.004299099770869866,0.0008127041934215262,0.0,0.0,0.0,0.02290295739125961,0.01370661109940918],"yaxis":"y","type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Portfolios"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Weight"},"tickformat":",.0%"},"legend":{"title":{"text":"asset"},"tracegroupgap":0,"yanchor":"top","y":0.99,"xanchor":"left","x":1.15},"margin":{"t":60},"barmode":"relative","title":{"text":"Portfolios Composition"}},                        {"responsive": true}                    )                };                            </script>        </div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 111-112

Let's plot the rolling portfolios cumulative returns on the test set:

.. GENERATED FROM PYTHON SOURCE LINES 112-115

.. code-block:: Python

    fig = population.plot_cumulative_returns()
    show(fig)




.. raw:: html
    :file: images/sphx_glr_plot_5_nco_grid_search_001.html





.. GENERATED FROM PYTHON SOURCE LINES 116-120

Analysis
========
The NCO outperform the Benchmark on the test set in terms of Sharpe Ratio
maximization:

.. GENERATED FROM PYTHON SOURCE LINES 120-128

.. code-block:: Python

    for ptf in population:
        print("=" * 25)
        print(" " * 8 + ptf.name)
        print("=" * 25)
        print(f"Ann. Sharpe ratio : {ptf.annualized_sharpe_ratio:0.2f}")
        print(f"CVaR ratio : {ptf.cvar_ratio:0.4f}")
        print("\n")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    =========================
            Benchmark
    =========================
    Ann. Sharpe ratio : 1.03
    CVaR ratio : 0.0275


    =========================
            NCO
    =========================
    Ann. Sharpe ratio : 1.22
    CVaR ratio : 0.0341






.. GENERATED FROM PYTHON SOURCE LINES 129-135

Combinatorial Purged Cross-Validation
=====================================
Only using one testing path (the historical path) may not be enough for comparing both
models. For a more robust analysis, we can use the
:class:`~skfolio.model_selection.CombinatorialPurgedCV` to create multiple testing
paths from different training folds combinations:

.. GENERATED FROM PYTHON SOURCE LINES 135-137

.. code-block:: Python

    cv = CombinatorialPurgedCV(n_folds=25, n_test_folds=23)








.. GENERATED FROM PYTHON SOURCE LINES 138-140

We choose `n_folds` and `n_test_folds` to get more than 100 test paths and an average
training size around 255 days:

.. GENERATED FROM PYTHON SOURCE LINES 140-142

.. code-block:: Python

    cv.summary(X_test)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    Number of Observations             2743
    Total Number of Folds                25
    Number of Test Folds                 23
    Purge Size                            0
    Embargo Size                          0
    Average Training Size               219
    Number of Test Paths                276
    Number of Training Combinations     300
    dtype: int64



.. GENERATED FROM PYTHON SOURCE LINES 143-151

.. code-block:: Python

    pred_nco = cross_val_predict(
        model_nco,
        X_test,
        cv=cv,
        n_jobs=-1,
        portfolio_params=dict(tag="NCO"),
    )








.. GENERATED FROM PYTHON SOURCE LINES 152-154

The predicted object is a `Population` of `MultiPeriodPortfolio`. Each
`MultiPeriodPortfolio` represents one testing path of a rolling portfolio.

.. GENERATED FROM PYTHON SOURCE LINES 156-159

Distribution
============
We plot the out-of-sample distribution of Sharpe Ratio for the NCO model:

.. GENERATED FROM PYTHON SOURCE LINES 159-163

.. code-block:: Python

    pred_nco.plot_distribution(
        measure_list=[RatioMeasure.ANNUALIZED_SHARPE_RATIO], n_bins=40
    )






.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
            <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>                <div id="641f6be3-946c-4954-9740-2dfd2b1ae5a4" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("641f6be3-946c-4954-9740-2dfd2b1ae5a4")) {                    Plotly.newPlot(                        "641f6be3-946c-4954-9740-2dfd2b1ae5a4",                        [{"alignmentgroup":"True","bingroup":"x","hovertemplate":"Population=annualized_sharpe_ratio\u003cbr\u003e_value=%{x}\u003cbr\u003ecount=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"annualized_sharpe_ratio","marker":{"color":"#636efa","opacity":0.5,"pattern":{"shape":""}},"name":"annualized_sharpe_ratio","nbinsx":40,"offsetgroup":"annualized_sharpe_ratio","orientation":"v","showlegend":true,"x":[0.810692789745539,1.0919582875635512,0.8366032573789352,1.0195552424345595,0.9615023194491465,1.0549136721436592,1.068088002535214,0.9298093603673483,0.9667806580168038,1.1127034561238258,0.9401260566506484,0.7809961846923771,1.0397138799818721,1.1530996639196636,1.0853932284796517,0.877529417606154,0.5144513495146747,0.2874659893312934,0.2963292414547702,0.4740020970232894,0.9252158149861684,0.8966798376193137,0.8172912599074567,1.1286002892604907,1.0914792150121022,1.0833083304127966,1.0132226550607557,0.3528472193331876,0.9468916554923011,0.9421330625361318,0.8610429175536566,1.1806693860013502,1.0332958657355091,1.0366470934815863,0.34891093989973526,0.9037289056603571,0.7019945743236219,0.7027198235776796,0.7148178847538128,0.8228105525820392,1.0555693886556377,0.9220884116315492,0.4540940606884482,0.8029630333377322,0.8450915505140033,0.9263611605358757,0.7546174252204588,1.0046219021175902,1.1414207533379974,1.0018631365770547,1.102303453270335,0.29891251880430575,0.9783133541961117,0.9918476139558947,0.780206612911253,0.8464539039439358,0.7694543564567329,1.0073424618514821,1.0576679790930485,1.1667705807018203,0.9890949677187529,0.44081244232694894,0.9404302021324346,0.9110627114774914,0.8159991599515809,0.6789773439395372,1.041627749429437,0.8641452859776801,1.0338407342997447,1.0193307024340623,1.1868378432063174,0.9244144032006856,0.7514677792386556,1.197606351842045,1.0112947397581011,0.8051731479211602,0.9296912280414819,0.8373071669785638,1.0957493904679565,0.9402370644717561,1.0033164141103605,1.233852611371057,1.3111201963617412,1.1139892428702005,0.36152302246307627,1.0548554268075558,0.9751643515369974,0.8364745718522885,0.9502534071325713,0.9829829573259072,1.1363832043809512,1.000606959449098,0.9040382260527229,1.109194793527831,1.0781104306759826,1.1025043409604713,0.991612659540153,0.6995666691450614,1.1891509512787972,0.9133622263326843,0.7611373229194875,0.7991259960203847,0.811262699645369,1.067718530736063,0.9826717944009052,0.9888027074422137,0.5134981590393752,1.1432492468691755,1.1239317938886837,1.0495332537416115,0.9748211504336355,0.8351546209250517,0.9508226976942523,0.9269338750312353,0.7444295849034794,0.7800634904651982,0.9524768142291683,1.130214301186791,0.9640425700630451,1.062778534203615,1.001668275581484,0.7258591337857581,0.9258661537630152,1.0144903190515453,1.040046201933065,1.1043793974212546,0.6609134444098338,0.6947017272080115,0.808485104088548,0.8515647083939024,0.7155336018897915,0.7885953056880581,0.8992570138731878,1.001436633660136,0.8629451645199617,0.9426028105380869,0.9974064623687263,0.832574393582885,1.1690183910081196,1.0775691114286008,0.9230137674198697,0.9452569286525052,0.2534958843444246,1.1056786450532807,0.9247450040450738,0.8442499437865648,0.8939271936785197,0.8104615932636582,1.064377402962991,1.0711797128728044,1.0045739389064197,0.9387501116404539,0.8952308677509152,0.9419214486534516,0.8873663066723684,1.0035306214224529,1.0774473383182612,1.0562682059852084,1.0297788278816558,0.29475261035769446,1.084466278616383,0.9900251795468465,0.9006434086453962,0.9942372281342006,1.0026875231858805,1.066656083342969,1.0050003433657155,0.9991917554834351,1.0309702350923975,0.9833811118823146,0.950141778419186,0.9773400785601711,0.8209701392401252,0.898243523201219,1.1932761066089426,0.9921734297110791,1.180794132808759,0.8857708287625579,1.0530730993482003,0.836795591845841,0.951619746975642,1.0159525069061568,0.7559159018485073,0.9344630967088328,1.0632616723238844,0.9417520738895618,0.9479165718576018,0.7918195729470697,1.1172314332658544,0.8325616069492753,1.021916079801076,0.9262328194791786,1.087429958232895,1.072056495331721,1.169988620719089,0.9084288719432146,0.7859882406473842,1.2744248986177251,1.1233039657472885,0.9318314845337368,1.0932364736039744,1.0041877392018403,0.9402345027336634,1.0111818973047655,1.062818436093221,0.9556787626112804,0.9723830637612229,1.128598898476826,1.0999147926061483,0.8168307935561314,1.1115446613888929,0.7978500804967117,0.9204945368545736,1.2391327007939588,1.1138840792601885,1.1009197844310878,0.6168284354504125,1.1466923434083185,1.0708261736864688,0.8288999832595757,0.979014917151969,1.0480496329788496,1.05068818871411,1.1005403954719726,1.0140281927858037,1.0438677457340628,0.8723385178657146,1.107507883570115,1.121433695267843,0.9597014699621363,1.0177594365540077,1.1699304298062794,0.7553526895768042,0.9493030340216764,1.1750457515464148,1.057262432075117,0.9211560333889676,0.7066901304915875,1.0529053431840372,0.9281807926766067,0.9120928104719953,0.985079614384544,0.8270628592076692,0.9626953148620927,0.9155336523617408,1.0615016413775944,1.0129372390099782,0.7739877894828864,1.0462137951965256,0.9582153974779292,0.7548453035702697,0.9541349956845977,0.8608228027638873,1.0957336571528002,0.911462038885325,1.0494489682173735,1.1289806770488267,1.0983712091015592,0.7379942332840593,0.9315010933642441,1.0340911543424993,0.9083671449438233,1.038290223756119,1.0123468700956986,0.8290308345121407,1.024168352990894,1.040180534887734,1.05485884008025,1.0558520498150081,0.9918843818367697,1.172956188947612,1.1373261739695761,0.8621880437764999,1.1133233014617236,1.1654025421138994,0.9769281855773357],"xaxis":"x","yaxis":"y","type":"histogram"},{"alignmentgroup":"True","hovertemplate":"Population=annualized_sharpe_ratio\u003cbr\u003e_value=%{x}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"annualized_sharpe_ratio","marker":{"color":"#636efa"},"name":"annualized_sharpe_ratio","notched":true,"offsetgroup":"annualized_sharpe_ratio","showlegend":false,"x":[0.810692789745539,1.0919582875635512,0.8366032573789352,1.0195552424345595,0.9615023194491465,1.0549136721436592,1.068088002535214,0.9298093603673483,0.9667806580168038,1.1127034561238258,0.9401260566506484,0.7809961846923771,1.0397138799818721,1.1530996639196636,1.0853932284796517,0.877529417606154,0.5144513495146747,0.2874659893312934,0.2963292414547702,0.4740020970232894,0.9252158149861684,0.8966798376193137,0.8172912599074567,1.1286002892604907,1.0914792150121022,1.0833083304127966,1.0132226550607557,0.3528472193331876,0.9468916554923011,0.9421330625361318,0.8610429175536566,1.1806693860013502,1.0332958657355091,1.0366470934815863,0.34891093989973526,0.9037289056603571,0.7019945743236219,0.7027198235776796,0.7148178847538128,0.8228105525820392,1.0555693886556377,0.9220884116315492,0.4540940606884482,0.8029630333377322,0.8450915505140033,0.9263611605358757,0.7546174252204588,1.0046219021175902,1.1414207533379974,1.0018631365770547,1.102303453270335,0.29891251880430575,0.9783133541961117,0.9918476139558947,0.780206612911253,0.8464539039439358,0.7694543564567329,1.0073424618514821,1.0576679790930485,1.1667705807018203,0.9890949677187529,0.44081244232694894,0.9404302021324346,0.9110627114774914,0.8159991599515809,0.6789773439395372,1.041627749429437,0.8641452859776801,1.0338407342997447,1.0193307024340623,1.1868378432063174,0.9244144032006856,0.7514677792386556,1.197606351842045,1.0112947397581011,0.8051731479211602,0.9296912280414819,0.8373071669785638,1.0957493904679565,0.9402370644717561,1.0033164141103605,1.233852611371057,1.3111201963617412,1.1139892428702005,0.36152302246307627,1.0548554268075558,0.9751643515369974,0.8364745718522885,0.9502534071325713,0.9829829573259072,1.1363832043809512,1.000606959449098,0.9040382260527229,1.109194793527831,1.0781104306759826,1.1025043409604713,0.991612659540153,0.6995666691450614,1.1891509512787972,0.9133622263326843,0.7611373229194875,0.7991259960203847,0.811262699645369,1.067718530736063,0.9826717944009052,0.9888027074422137,0.5134981590393752,1.1432492468691755,1.1239317938886837,1.0495332537416115,0.9748211504336355,0.8351546209250517,0.9508226976942523,0.9269338750312353,0.7444295849034794,0.7800634904651982,0.9524768142291683,1.130214301186791,0.9640425700630451,1.062778534203615,1.001668275581484,0.7258591337857581,0.9258661537630152,1.0144903190515453,1.040046201933065,1.1043793974212546,0.6609134444098338,0.6947017272080115,0.808485104088548,0.8515647083939024,0.7155336018897915,0.7885953056880581,0.8992570138731878,1.001436633660136,0.8629451645199617,0.9426028105380869,0.9974064623687263,0.832574393582885,1.1690183910081196,1.0775691114286008,0.9230137674198697,0.9452569286525052,0.2534958843444246,1.1056786450532807,0.9247450040450738,0.8442499437865648,0.8939271936785197,0.8104615932636582,1.064377402962991,1.0711797128728044,1.0045739389064197,0.9387501116404539,0.8952308677509152,0.9419214486534516,0.8873663066723684,1.0035306214224529,1.0774473383182612,1.0562682059852084,1.0297788278816558,0.29475261035769446,1.084466278616383,0.9900251795468465,0.9006434086453962,0.9942372281342006,1.0026875231858805,1.066656083342969,1.0050003433657155,0.9991917554834351,1.0309702350923975,0.9833811118823146,0.950141778419186,0.9773400785601711,0.8209701392401252,0.898243523201219,1.1932761066089426,0.9921734297110791,1.180794132808759,0.8857708287625579,1.0530730993482003,0.836795591845841,0.951619746975642,1.0159525069061568,0.7559159018485073,0.9344630967088328,1.0632616723238844,0.9417520738895618,0.9479165718576018,0.7918195729470697,1.1172314332658544,0.8325616069492753,1.021916079801076,0.9262328194791786,1.087429958232895,1.072056495331721,1.169988620719089,0.9084288719432146,0.7859882406473842,1.2744248986177251,1.1233039657472885,0.9318314845337368,1.0932364736039744,1.0041877392018403,0.9402345027336634,1.0111818973047655,1.062818436093221,0.9556787626112804,0.9723830637612229,1.128598898476826,1.0999147926061483,0.8168307935561314,1.1115446613888929,0.7978500804967117,0.9204945368545736,1.2391327007939588,1.1138840792601885,1.1009197844310878,0.6168284354504125,1.1466923434083185,1.0708261736864688,0.8288999832595757,0.979014917151969,1.0480496329788496,1.05068818871411,1.1005403954719726,1.0140281927858037,1.0438677457340628,0.8723385178657146,1.107507883570115,1.121433695267843,0.9597014699621363,1.0177594365540077,1.1699304298062794,0.7553526895768042,0.9493030340216764,1.1750457515464148,1.057262432075117,0.9211560333889676,0.7066901304915875,1.0529053431840372,0.9281807926766067,0.9120928104719953,0.985079614384544,0.8270628592076692,0.9626953148620927,0.9155336523617408,1.0615016413775944,1.0129372390099782,0.7739877894828864,1.0462137951965256,0.9582153974779292,0.7548453035702697,0.9541349956845977,0.8608228027638873,1.0957336571528002,0.911462038885325,1.0494489682173735,1.1289806770488267,1.0983712091015592,0.7379942332840593,0.9315010933642441,1.0340911543424993,0.9083671449438233,1.038290223756119,1.0123468700956986,0.8290308345121407,1.024168352990894,1.040180534887734,1.05485884008025,1.0558520498150081,0.9918843818367697,1.172956188947612,1.1373261739695761,0.8621880437764999,1.1133233014617236,1.1654025421138994,0.9769281855773357],"xaxis":"x2","yaxis":"y2","type":"box"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"measures"}},"yaxis":{"anchor":"x","domain":[0.0,0.7326],"title":{"text":"count"}},"xaxis2":{"anchor":"y2","domain":[0.0,1.0],"matches":"x","showticklabels":false,"showgrid":true},"yaxis2":{"anchor":"x2","domain":[0.7426,1.0],"matches":"y2","showticklabels":false,"showline":false,"ticks":"","showgrid":false},"legend":{"title":{"text":"Population"},"tracegroupgap":0},"margin":{"t":60},"barmode":"overlay","title":{"text":"Measures Distribution"}},                        {"responsive": true}                    )                };                            </script>        </div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 164-173

.. code-block:: Python

    print(
        "Average of Sharpe Ratio :"
        f" {pred_nco.measures_mean(measure=RatioMeasure.ANNUALIZED_SHARPE_RATIO):0.2f}"
    )
    print(
        "Std of Sharpe Ratio :"
        f" {pred_nco.measures_std(measure=RatioMeasure.ANNUALIZED_SHARPE_RATIO):0.2f}"
    )





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Average of Sharpe Ratio : 0.94
    Std of Sharpe Ratio : 0.18




.. GENERATED FROM PYTHON SOURCE LINES 174-183

Conclusion
==========
This NCO model outperforms the Benchmark in terms of Sharpe Ratio on the historical
test set. However, the distribution analysis on the recombined (non-historical) test
sets shows that it slightly underperforms the Benchmark in average.
This was a toy example to present the API. Further analysis using different
estimators, datasets and CV parameters should be performed to determine if the
outperformance on the historical test set is du to chance or if this NCO model is able
to exploit time-dependencies information lost in the `CombinatorialPurgedCV`.


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (3 minutes 42.805 seconds)


.. _sphx_glr_download_auto_examples_5_clustering_plot_5_nco_grid_search.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: lite-badge

      .. image:: images/jupyterlite_badge_logo.svg
        :target: ../../lite/lab/?path=auto_examples/5_clustering/plot_5_nco_grid_search.ipynb
        :alt: Launch JupyterLite
        :width: 150 px

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_5_nco_grid_search.ipynb <plot_5_nco_grid_search.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_5_nco_grid_search.py <plot_5_nco_grid_search.py>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
